var complexprg95grpexample=function(t,e){"use strict";function n(){}function o(t){return t()}function r(){return Object.create(null)}function a(t){t.forEach(o)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function c(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=d("style");t.id=e,t.textContent=n,function(t,e){s(t.head||t,e),e.sheet}(o,t)}}function u(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function g(){return f(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let v;function b(t){v=t}const A=[],k=[];let T=[];const w=[],C=Promise.resolve();let N=!1;function _(t){T.push(t)}const E=new Set;let S=0;function B(){if(0!==S)return;const t=v;do{try{for(;S<A.length;){const t=A[S];S++,b(t),I(t.$$)}}catch(t){throw A.length=0,S=0,t}for(b(null),A.length=0,S=0;k.length;)k.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];E.has(e)||(E.add(e),e())}T.length=0}while(A.length);for(;w.length;)w.pop()();N=!1,E.clear(),b(t)}function I(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const R=new Set;function O(t){return void 0!==t?.length?t:Array.from(t)}function j(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];T.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),T=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&(A.push(t),N||(N=!0,C.then(B)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(t,e,l,s,c,u,p=null,d=[-1]){const f=v;b(t);const g=t.$$={fragment:null,ctx:[],props:u,update:n,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:e.target||f.$$.root};p&&p(g.root);let h=!1;if(g.ctx=l?l(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return g.ctx&&c(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),h&&U(t,e)),n})):[],g.update(),h=!0,a(g.before_update),g.fragment=!!s&&s(g.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);g.fragment&&g.fragment.l(t),t.forEach(m)}else g.fragment&&g.fragment.c();e.intro&&((y=t.$$.fragment)&&y.i&&(R.delete(y),y.i($))),function(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),_((()=>{const e=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):a(e),t.$$.on_mount=[]})),l.forEach(_)}(t,e.target,e.anchor),B()}var y,$;b(f)}class M{$$=void 0;$$set=void 0;$destroy(){j(this,1),this.$destroy=n}$on(t,e){if(!i(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function P(t){c(t,"svelte-o54gka",".container.svelte-o54gka{width:360px;padding:10px}button.svelte-o54gka{border-radius:10px;font-size:40px}")}function H(t,e,n){const o=t.slice();return o[6]=e[n],o}function L(t,e,n){const o=t.slice();return o[9]=e[n][0],o[10]=e[n][1],o}function z(t){let e,n,o,r,a,i=t[10]+"",l=t[9]+"",c=t[10]>1?"s":"";return{c(){e=d("li"),n=f(i),o=g(),r=f(l),a=f(c)},m(t,i){u(t,e,i),s(e,n),s(e,o),s(e,r),s(e,a)},p(t,e){2&e&&i!==(i=t[10]+"")&&$(n,i),2&e&&l!==(l=t[9]+"")&&$(r,l),2&e&&c!==(c=t[10]>1?"s":"")&&$(a,c)},d(t){t&&m(e)}}}function V(t){let e,n,o,r,a,i,l=t[6].text+"";function c(){return t[4](t[6])}return{c(){e=d("button"),n=d("span"),n.textContent="+",o=f(l),r=g(),x(n,"font-size","20px"),y(e,"class","svelte-o54gka")},m(t,l){u(t,e,l),s(e,n),s(e,o),s(e,r),a||(i=h(e,"click",c),a=!0)},p(e,n){t=e,1&n&&l!==(l=t[6].text+"")&&$(o,l)},d(t){t&&m(e),a=!1,i()}}}function F(t){let o,r,a,i,l=O([...t[1]]),c=[];for(let e=0;e<l.length;e+=1)c[e]=z(L(t,l,e));let f=O(t[0].animals),h=[];for(let e=0;e<f.length;e+=1)h[e]=V(H(t,f,e));return{c(){o=d("div"),r=d("ul");for(let t=0;t<c.length;t+=1)c[t].c();a=g(),i=d("center");for(let t=0;t<h.length;t+=1)h[t].c();y(o,"class","svelte-o54gka"),function(t,e,n){t.classList.toggle(e,!!n)}(o,"container",G),x(o,"background-color",e.color.ui.white)},m(t,e){u(t,o,e),s(o,r);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(r,null);s(o,a),s(o,i);for(let t=0;t<h.length;t+=1)h[t]&&h[t].m(i,null)},p(t,[e]){if(2&e){let n;for(l=O([...t[1]]),n=0;n<l.length;n+=1){const o=L(t,l,n);c[n]?c[n].p(o,e):(c[n]=z(o),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=l.length}if(5&e){let n;for(f=O(t[0].animals),n=0;n<f.length;n+=1){const o=H(t,f,n);h[n]?h[n].p(o,e):(h[n]=V(o),h[n].c(),h[n].m(i,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=f.length}},i:n,o:n,d(t){t&&m(o),p(c,t),p(h,t)}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const G=!0;function X(t,n,o){let{extension:r}=n,{close:a}=n;const i=(t,...n)=>e.reactiveInvoke(o(0,r),t,n);let l;return t.$$set=t=>{"extension"in t&&o(0,r=t.extension),"close"in t&&o(3,a=t.close)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{o(1,l=new Map);for(const t of i("getAnimalCollectionEmojis"))l.set(t,l.has(t)?l.get(t)+1:1)})()},[r,l,i,a,t=>i("addAnimalToCollection",t.value)]}function q(t,e,n,o,r,a){function i(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var l,s=o.kind,c="getter"===s?"get":"setter"===s?"set":"value",u=t?o.static?t:t.prototype:null,m=u?Object.getOwnPropertyDescriptor(u,o.name):{},p=!1,d=n.length-1;d>=0;d--){var f={};for(var g in o)f[g]="access"===g?{}:o[g];for(var g in o.access)f.access[g]=o.access[g];f.addInitializer=function(t){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(t||null))};var h=(0,n[d])("accessor"===s?{get:m.get,set:m.set}:m[c],f);if("accessor"===s){if(void 0===h)continue;if(null===h||"object"!=typeof h)throw new TypeError("Object expected");(l=i(h.get))&&(m.get=l),(l=i(h.set))&&(m.set=l),(l=i(h.init))&&r.unshift(l)}else(l=i(h))&&("field"===s?r.unshift(l):m[c]=l)}u&&Object.defineProperty(u,o.name,m),p=!0}"function"==typeof SuppressedError&&SuppressedError;const W={0:"leopard",1:"tiger",2:"gorilla",3:"monkey",4:"pig"},Y={0:"ðŸ†",1:"ðŸ…",2:"ðŸ¦",3:"ðŸ’",4:"ðŸ–"};let J=(()=>{var t;let n,o,r,a,i,l,s,c,u,m,p,d,f,g,h=e.extension({name:"Realistic Typescript-Based Extension",description:"Demonstrating how typescript can be used to write a realistic extension",iconURL:"Typescript_logo.png",insetIconURL:"typescript-logo.svg",tags:["PRG Internal"]},"ui","customSaveData","customArguments"),y=[];return t=class extends h{constructor(){super(...arguments),this.lhsOptions=function(t,e,n){for(var o=arguments.length>2,r=0;r<e.length;r++)n=o?e[r].call(t,n):e[r].call(t);return o?n:void 0}(this,y),this.collection=[2],this.state=0,this.saveDataHandler=new e.SaveDataHandler({Extension:t,onSave:({collection:t,state:e})=>({collection:t,state:e}),onLoad:(t,n)=>e.copyTo({target:t,source:n})})}getAnimalCollectionEmojis(){return this.collection.map((t=>Y[t]))}addAnimalToCollection(t){return this.collection.push(t)}init(){this.lhsOptions=[3,4,5],this.animals=Object.entries(Y).map((([t,e])=>({value:parseInt(t),text:e}))),this.getAnimalCollection=()=>this.collection.map((t=>({text:Y[t],value:t})))}getID(){return this.id}getColorChannel(t,e){return t[e]}add(t,e){return t+e}sumMatrix(t,e){switch(e){case 0:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).join("\n");case 1:const e=[0,0,0,0,0];return t.forEach((t=>t.forEach(((t,n)=>{e[n]+=Number(t)})))),e.join(" ");case 2:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).reduce(((t,e)=>t+e),0).toString()}}selectNote(t){return t}selectAngle(t){return t}increment(){return++this.state}animalName(t){return W[t]}animalHabit(t){switch(t){case 0:return"Africa and Asia";case 1:return"Asia";case 2:return"Africa";case 3:return"Africa, Asia, and South America";case 4:return"Almost everywhere (except Antartica)"}}addAnimalToCollectionAndAlert(t){this.addAnimalToCollection(t),this.openUI("Alert")}chooseBetweenAnimals(t){return W[t]}showAnimalCollectionUI(){this.openUI("Animals","Here's your animal collection")}multiplyUsingThis(t,e,n){return t*e}multiplyUsingSelf(t,e,n){return t*e}},(()=>{var $;const x="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==($=h[Symbol.metadata])&&void 0!==$?$:null):void 0;n=[e.block({type:e.BlockType.Reporter,text:"My Extension ID is"})],o=[e.block({type:e.BlockType.Reporter,args:[e.ArgumentType.Color,{type:e.ArgumentType.String,options:[{value:"r",text:"red"},{value:"g",text:"green"},{value:"b",text:"blue"}]}],text:(t,e)=>`Report ${e} of ${t}`})],r=[e.block((t=>({type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},{type:e.ArgumentType.Number}],text:(t,e)=>`Add ${t} to ${e}`})))],a=[e.block({type:"reporter",args:[e.ArgumentType.Matrix,{type:e.ArgumentType.Number,options:[{value:0,text:"rows"},{value:1,text:"columns"},{value:2,text:"rows and columns"}]}],text:(t,e)=>`Sum ${e} of ${t}`})],i=[e.block({type:e.BlockType.Reporter,arg:e.ArgumentType.Note,text:t=>`Pick note ${t}`})],l=[e.block({type:e.BlockType.Reporter,arg:e.ArgumentType.Angle,text:t=>`Pick angle ${t}`})],s=[e.block({type:e.BlockType.Reporter,text:"Increment"})],c=[e.block((t=>({type:e.BlockType.Reporter,text:t=>`This is a ${t}`,arg:{type:e.ArgumentType.Number,options:{items:t.animals,acceptsReporters:!0,handler:t=>{switch(t){case"0":case"1":case"2":case"3":case"4":return t;default:return alert(`You silly goose! ${t} is not an animal.`),0}}}}})))],u=[e.block((t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.animals},text:t=>`Where does the ${t} live?`})))],m=[e.block((t=>({type:e.BlockType.Command,arg:t.makeCustomArgument({component:et,initial:{value:0,text:W[0]}}),text:t=>`Add ${t} to collection`})))],p=[e.block((t=>({type:e.BlockType.Reporter,arg:{type:e.ArgumentType.Number,options:t.getAnimalCollection},text:t=>`Animals in collection: ${t}`})))],d=[e.buttonBlock("Show Animal Collection")],f=[e.block((function(){return{type:e.BlockType.Reporter,args:[{type:e.ArgumentType.Number,defaultValue:3,options:this.lhsOptions},e.ArgumentType.Number],text:(t,e)=>`${t} X ${e}`}}))],g=[e.block((t=>({type:e.BlockType.Reporter,text:(t,e)=>`${t} X ${e}`,args:[{type:e.ArgumentType.Number,defaultValue:3,options:t.lhsOptions},e.ArgumentType.Number]})))],q(t,0,n,{kind:"method",name:"getID",static:!1,private:!1,access:{has:t=>"getID"in t,get:t=>t.getID},metadata:x},null,y),q(t,0,o,{kind:"method",name:"getColorChannel",static:!1,private:!1,access:{has:t=>"getColorChannel"in t,get:t=>t.getColorChannel},metadata:x},null,y),q(t,0,r,{kind:"method",name:"add",static:!1,private:!1,access:{has:t=>"add"in t,get:t=>t.add},metadata:x},null,y),q(t,0,a,{kind:"method",name:"sumMatrix",static:!1,private:!1,access:{has:t=>"sumMatrix"in t,get:t=>t.sumMatrix},metadata:x},null,y),q(t,0,i,{kind:"method",name:"selectNote",static:!1,private:!1,access:{has:t=>"selectNote"in t,get:t=>t.selectNote},metadata:x},null,y),q(t,0,l,{kind:"method",name:"selectAngle",static:!1,private:!1,access:{has:t=>"selectAngle"in t,get:t=>t.selectAngle},metadata:x},null,y),q(t,0,s,{kind:"method",name:"increment",static:!1,private:!1,access:{has:t=>"increment"in t,get:t=>t.increment},metadata:x},null,y),q(t,0,c,{kind:"method",name:"animalName",static:!1,private:!1,access:{has:t=>"animalName"in t,get:t=>t.animalName},metadata:x},null,y),q(t,0,u,{kind:"method",name:"animalHabit",static:!1,private:!1,access:{has:t=>"animalHabit"in t,get:t=>t.animalHabit},metadata:x},null,y),q(t,0,m,{kind:"method",name:"addAnimalToCollectionAndAlert",static:!1,private:!1,access:{has:t=>"addAnimalToCollectionAndAlert"in t,get:t=>t.addAnimalToCollectionAndAlert},metadata:x},null,y),q(t,0,p,{kind:"method",name:"chooseBetweenAnimals",static:!1,private:!1,access:{has:t=>"chooseBetweenAnimals"in t,get:t=>t.chooseBetweenAnimals},metadata:x},null,y),q(t,0,d,{kind:"method",name:"showAnimalCollectionUI",static:!1,private:!1,access:{has:t=>"showAnimalCollectionUI"in t,get:t=>t.showAnimalCollectionUI},metadata:x},null,y),q(t,0,f,{kind:"method",name:"multiplyUsingThis",static:!1,private:!1,access:{has:t=>"multiplyUsingThis"in t,get:t=>t.multiplyUsingThis},metadata:x},null,y),q(t,0,g,{kind:"method",name:"multiplyUsingSelf",static:!1,private:!1,access:{has:t=>"multiplyUsingSelf"in t,get:t=>t.multiplyUsingSelf},metadata:x},null,y),x&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x})})(),t})();function K(t,e,n){const o=t.slice();return o[6]=e[n],o}function Q(t){let e,n,o;function r(){return t[5](t[6])}return{c(){e=d("button"),e.textContent=`${Y[t[6]]} `},m(t,a){u(t,e,a),n||(o=h(e,"click",r),n=!0)},p(e,n){t=e},d(t){t&&m(e),n=!1,o()}}}function Z(t){let e,o=O(Object.keys(Y)),r=[];for(let e=0;e<o.length;e+=1)r[e]=Q(K(t,o,e));return{c(){e=d("div");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){u(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(1&n){let a;for(o=O(Object.keys(Y)),a=0;a<o.length;a+=1){const i=K(t,o,a);r[a]?r[a].p(i,n):(r[a]=Q(i),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},i:n,o:n,d(t){t&&m(e),p(r,t)}}}function tt(t,e,n){let o,{setter:r}=e,{current:a}=e,{extension:i}=e,l=a.value;return t.$$set=t=>{"setter"in t&&n(1,r=t.setter),"current"in t&&n(2,a=t.current),"extension"in t&&n(3,i=t.extension)},t.$$.update=()=>{1&t.$$.dirty&&n(4,o=W[l]),19&t.$$.dirty&&r({value:l,text:o})},[l,r,a,i,o,t=>n(0,l=parseInt(t))]}var et=class extends M{constructor(t){super(),D(this,t,tt,Z,l,{setter:1,current:2,extension:3})}};function nt(t){let e;return{c(){e=d("div"),e.innerHTML='<img src="https://y.yarn.co/e1c7becd-fc72-40cb-8866-2afac14e2712_text.gif" alt="Gif of &#39;Its done&#39; clip from the movie Dune"/>',x(e,"width","400px;")},m(t,n){u(t,e,n)},p:n,i:n,o:n,d(t){t&&m(e)}}}return t.Alert=class extends M{constructor(t){super(),D(this,t,null,nt,l,{})}},t.AnimalArgument=et,t.Animals=class extends M{constructor(t){super(),D(this,t,X,F,l,{extension:0,close:3},P)}},t.Extension=J,t}({},ExtensionFramework);//# sourceMappingURL=complexprg95grpexample.js.map
