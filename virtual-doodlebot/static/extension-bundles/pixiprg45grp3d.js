var pixiprg45grp3d=function(e,t){"use strict";function n(){}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function a(e){return"function"==typeof e}function u(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!r.getElementById(t)){const e=s("style");e.id=t,e.textContent=n,function(e,t){(function(e,t){e.appendChild(t)})(e.head||e,t),t.sheet}(r,e)}}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function s(e){return document.createElement(e)}let d;function f(e){d=e}function p(e){(function(){if(!d)throw new Error("Function called outside component initialization");return d})().$$.on_mount.push(e)}const h=[],m=[];let y=[];const $=[],b=Promise.resolve();let g=!1;function x(e){y.push(e)}const v=new Set;let w=0;function _(){if(0!==w)return;const e=d;do{try{for(;w<h.length;){const e=h[w];w++,f(e),V(e.$$)}}catch(e){throw h.length=0,w=0,e}for(f(null),h.length=0,w=0;m.length;)m.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];v.has(t)||(v.add(t),t())}y.length=0}while(h.length);for(;$.length;)$.pop()();g=!1,v.clear(),f(e)}function V(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}const k=new Set;function E(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];y.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),y=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function S(e,t){-1===e.$$.dirty[0]&&(h.push(e),g||(g=!0,b.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function P(e,t,u,c,s,p,h=null,m=[-1]){const y=d;f(e);const $=e.$$={fragment:null,ctx:[],props:p,update:n,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(y?y.$$.context:[])),callbacks:o(),dirty:m,skip_bound:!1,root:t.target||y.$$.root};h&&h($.root);let b=!1;if($.ctx=u?u(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return $.ctx&&s($.ctx[t],$.ctx[t]=o)&&(!$.skip_bound&&$.bound[t]&&$.bound[t](o),b&&S(e,t)),n})):[],$.update(),b=!0,i($.before_update),$.fragment=!!c&&c($.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);$.fragment&&$.fragment.l(e),e.forEach(l)}else $.fragment&&$.fragment.c();t.intro&&((g=e.$$.fragment)&&g.i&&(k.delete(g),g.i(v))),function(e,t,n){const{fragment:o,after_update:u}=e.$$;o&&o.m(t,n),x((()=>{const t=e.$$.on_mount.map(r).filter(a);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(x)}(e,t.target,t.anchor),_()}var g,v;f(y)}class C{$$=void 0;$$set=void 0;$destroy(){E(this,1),this.$destroy=n}$on(e,t){if(!a(t))return n;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",s=e?r.static?e:e.prototype:null,d=s?Object.getOwnPropertyDescriptor(s,r.name):{},f=!1,p=n.length-1;p>=0;p--){var h={};for(var m in r)h[m]="access"===m?{}:r[m];for(var m in r.access)h.access[m]=r.access[m];h.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[p])("accessor"===c?{get:d.get,set:d.set}:d[l],h);if("accessor"===c){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(u=a(y.get))&&(d.get=u),(u=a(y.set))&&(d.set=u),(u=a(y.init))&&o.unshift(u)}else(u=a(y))&&("field"===c?o.unshift(u):d[l]=u)}s&&Object.defineProperty(s,r.name,d),f=!0}function O(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}c((r=r.apply(e,t||[])).next())}))}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4"),"function"==typeof SuppressedError&&SuppressedError;const j={name:"Pixi3D Test",description:"An implementation of Pixi3D in the Playground",iconURL:"Replace with the name of your icon image file (which should be placed in the same directory as this file)",insetIconURL:"Replace with the name of your inset icon image file (which should be placed in the same directory as this file)"};let A=(()=>{var e;let n,r,o,i,a=t.extension(j,"customArguments"),u=[];return e=class extends a{constructor(){super(...arguments),this.pixi3d=function(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}(this,u)}init(e){return O(this,void 0,void 0,(function*(){this.exampleField=0,this.pixi3d=e.runtime.getPixi3D(),this.pixi3d.createApplication()}))}createCube(e,t,n,r,o,i,a,u){this.pixi3d.createCube([e,t,n],r,[o,i,a],"true"==u)}createPlane(e,t,n,r,o,i,a){this.pixi3d.createPlane([e,t,n],r,[o,i,a])}createSphere(e,t,n,r,o,i,a){this.pixi3d.createSphere([e,t,n],r,[o,i,a])}uploadSoundFile(e,t){this.pixi3d.importGltf(e,[0,0,-2],t)}},(()=>{var c;const l="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(c=a[Symbol.metadata])&&void 0!==c?c:null):void 0;n=[t.scratch.command`Create cube with position x: ${{type:"number",defaultValue:0}}, y ${{type:"number",defaultValue:0}}, z ${{type:"number",defaultValue:-2}}, scale ${{type:"number",defaultValue:.5}}, color r: ${{type:"number",defaultValue:1}}, g: ${{type:"number",defaultValue:0}}, b: ${{type:"number",defaultValue:1}}, and animation: ${{type:"string",options:["true","false"]}}`],r=[t.scratch.command`Create plane with position x: ${{type:"number",defaultValue:0}}, y: ${{type:"number",defaultValue:0}}, z: ${{type:"number",defaultValue:-2}}, scale ${{type:"number",defaultValue:.5}}, color r: ${{type:"number",defaultValue:1}}, g: ${{type:"number",defaultValue:0}}, b: ${{type:"number",defaultValue:1}}`],o=[t.scratch.command`Create sphere with position x: ${{type:"number",defaultValue:0}}, y: ${{type:"number",defaultValue:0}}, z: ${{type:"number",defaultValue:-2}}, scale ${{type:"number",defaultValue:.5}}, color r: ${{type:"number",defaultValue:1}}, g: ${{type:"number",defaultValue:0}}, b: ${{type:"number",defaultValue:1}}`],i=[t.scratch.command(((e,t)=>t`Upload model ${e.makeCustomArgument({component:R,initial:{value:"",text:"File"}})} with scale ${{type:"number",defaultValue:1}}`))],F(e,0,n,{kind:"method",name:"createCube",static:!1,private:!1,access:{has:e=>"createCube"in e,get:e=>e.createCube},metadata:l},null,u),F(e,0,r,{kind:"method",name:"createPlane",static:!1,private:!1,access:{has:e=>"createPlane"in e,get:e=>e.createPlane},metadata:l},null,u),F(e,0,o,{kind:"method",name:"createSphere",static:!1,private:!1,access:{has:e=>"createSphere"in e,get:e=>e.createSphere},metadata:l},null,u),F(e,0,i,{kind:"method",name:"uploadSoundFile",static:!1,private:!1,access:{has:e=>"uploadSoundFile"in e,get:e=>e.uploadSoundFile},metadata:l},null,u),l&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l})})(),e})();function z(e){c(e,"svelte-1hnbk1r",'.container.svelte-1hnbk1r{display:flex;flex-direction:column;gap:10px;max-width:300px;margin:20px}input.svelte-1hnbk1r{padding:8px;font-size:16px;border:1px solid #ccc;border-radius:4px}input[type="file"].svelte-1hnbk1r{border:2px dashed #007bff}')}function D(e){let t;return{c(){var e,n,r;t=s("div"),t.innerHTML='<input type="file" id="fileInput" accept=".glb,.gltf" class="svelte-1hnbk1r"/>',n="class",r="container svelte-1hnbk1r",(e=t).getAttribute(n)!==r&&e.setAttribute(n,r)},m(e,n){!function(e,t,n){e.insertBefore(t,n||null)}(e,t,n)},p:n,i:n,o:n,d(e){e&&l(t)}}}function I(e,t,n){let r;var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))};let{setter:i}=t,{current:a}=t,{extension:u}=t,c=a.value;return p((()=>{var e;null===(e=document.getElementById("fileInput"))||void 0===e||e.addEventListener("change",(e=>o(void 0,void 0,void 0,(function*(){const t=e.target;if(t.files&&t.files[0]){const e=t.files[0],o=yield e.arrayBuffer();n(3,c=o),n(4,r=e.name)}}))))})),e.$$set=e=>{"setter"in e&&n(1,i=e.setter),"current"in e&&n(2,a=e.current),"extension"in e&&n(0,u=e.extension)},e.$$.update=()=>{26&e.$$.dirty&&i({value:c,text:r})},n(4,r=""),[u,i,a,c,r]}var R=class extends C{constructor(e){super(),P(this,e,I,D,u,{setter:1,current:2,extension:0},z)}};return e.Extension=A,e.FileArgument=R,e}({},ExtensionFramework);//# sourceMappingURL=pixiprg45grp3d.js.map
