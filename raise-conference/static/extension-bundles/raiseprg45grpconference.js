var raiseprg45grpconference=function(e,t){"use strict";function n(){}function o(e){return e()}function s(){return Object.create(null)}function i(e){e.forEach(o)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function c(e,t,n){const o=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t&&t.host)return t;return e.ownerDocument}(e);if(!o.getElementById(t)){const e=u("style");e.id=t,e.textContent=n,function(e,t){a(e.head||e,t),t.sheet}(o,e)}}function d(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function f(){return p(" ")}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t){e.value=null==t?"":t}function _(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function v(e,t,n){e.classList.toggle(t,!!n)}class y{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var o;this.e||(this.is_svg?this.e=(o=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=u(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)d(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(h)}}let k;function b(e){k=e}const x=[],S=[];let $=[];const T=[],C=Promise.resolve();let P=!1;function E(e){$.push(e)}const A=new Set;let N=0;function I(){if(0!==N)return;const e=k;do{try{for(;N<x.length;){const e=x[N];N++,b(e),H(e.$$)}}catch(e){throw x.length=0,N=0,e}for(b(null),x.length=0,N=0;S.length;)S.pop()();for(let e=0;e<$.length;e+=1){const t=$[e];A.has(t)||(A.add(t),t())}$.length=0}while(x.length);for(;T.length;)T.pop()();P=!1,A.clear(),b(e)}function H(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(E)}}const O=new Set;function L(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];$.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),$=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function j(e,t){-1===e.$$.dirty[0]&&(x.push(e),P||(P=!0,C.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function R(e,t,l,a,c,d,u=null,p=[-1]){const f=k;b(e);const g=e.$$={fragment:null,ctx:[],props:d,update:n,not_equal:c,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:s(),dirty:p,skip_bound:!1,root:t.target||f.$$.root};u&&u(g.root);let m=!1;if(g.ctx=l?l(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return g.ctx&&c(g.ctx[t],g.ctx[t]=s)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](s),m&&j(e,t)),n})):[],g.update(),m=!0,i(g.before_update),g.fragment=!!a&&a(g.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);g.fragment&&g.fragment.l(e),e.forEach(h)}else g.fragment&&g.fragment.c();t.intro&&((w=e.$$.fragment)&&w.i&&(O.delete(w),w.i(_))),function(e,t,n){const{fragment:s,after_update:l}=e.$$;s&&s.m(t,n),E((()=>{const t=e.$$.on_mount.map(o).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),l.forEach(E)}(e,t.target,t.anchor),I()}var w,_;b(f)}class z{$$=void 0;$$set=void 0;$destroy(){L(this,1),this.$destroy=n}$on(e,t){if(!r(t))return n;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function U(e){c(e,"svelte-1u1bs96",".container.svelte-1u1bs96{text-align:center;padding:30px}input.svelte-1u1bs96{display:block;margin:10px auto;padding:8px;width:80%}button.svelte-1u1bs96{margin:10px;padding:10px 20px}button.svelte-1u1bs96:disabled{background-color:#ccc;color:#777;cursor:not-allowed}")}function M(e){let o,s,r,l,c,y,k,b,x,S;return{c(){o=u("div"),s=u("h2"),s.textContent="What's the password???",r=f(),l=u("input"),c=f(),y=u("button"),k=p("Open Next Challenge"),m(l,"type","password"),m(l,"placeholder","Password"),m(l,"class","svelte-1u1bs96"),y.disabled=b=!e[1],m(y,"class","svelte-1u1bs96"),m(o,"class","svelte-1u1bs96"),v(o,"container",e[2]),_(o,"width","360px"),_(o,"background-color",t.color.ui.white),_(o,"color",t.color.text.primary)},m(t,n){d(t,o,n),a(o,s),a(o,r),a(o,l),w(l,e[0]),a(o,c),a(o,y),a(y,k),x||(S=[g(l,"input",e[7]),g(y,"click",e[3])],x=!0)},p(e,[t]){1&t&&l.value!==e[0]&&w(l,e[0]),2&t&&b!==(b=!e[1])&&(y.disabled=b)},i:n,o:n,d(e){e&&h(o),x=!1,i(S)}}}function W(e,n,o){let s;var i;let{extension:r}=n,{close:l}=n;const a=t.activeClass;let c="";const d={storyTime:"aliceInWonderland",aliceInWonderland:"dancingSprite",dancingSprite:"detectSmile",detectSmile:"followHand",followHand:"textClassification",textClassification:"You finished!"},h={storyTime:"https://playground.raise.mit.edu/raise-conference/?level=aliceInWonderland&project=https://www.dropbox.com/scl/fi/ptjjvcqh4hlhgdqfusgrn/growingAlien.sb3?rlkey=vomdmj7y6jnx6vmjc6kc49x8f&st=e3ehc439&dl=0",aliceInWonderland:"https://playground.raise.mit.edu/raise-conference/?level=dancingSprite&project=https://www.dropbox.com/scl/fi/3e2x09nq6at2tsi0vpdmb/ballerina.sb3?rlkey=07pgqu4l5ua04lqe81kgws9no&st=3ph4nusm&dl=0",dancingSprite:"https://playground.raise.mit.edu/raise-conference/?level=detectSmile&project=https://www.dropbox.com/scl/fi/3tudm9qq1spkunk1buc8h/beautifulSmile.sb3?rlkey=3okdy34lxvb662ib4z7ky9hpf&st=dbr9c883&dl=0",detectSmile:"https://playground.raise.mit.edu/raise-conference/?level=followHand&project=https://www.dropbox.com/scl/fi/ez1nd8uwnk9ud5r89v018/followHand.sb3?rlkey=s90ftjlmhnxooytu085dexoxx&st=5biqx8v5&dl=0",followHand:"https://playground.raise.mit.edu/raise-conference/?level=textClassification&project=https://www.dropbox.com/scl/fi/srw0kpkmv45dpm3x4rdqj/textClassification.sb3?rlkey=ktv66sfucfzz6vfj1qswd7h2z&st=o4ebwpfa&dl=0",textClassification:"You finished!"};return e.$$set=e=>{"extension"in e&&o(4,r=e.extension),"close"in e&&o(5,l=e.close)},e.$$.update=()=>{81&e.$$.dirty&&o(1,s=(null===o(6,i=d[r.level])||void 0===i?void 0:i.trim())===c.trim())},[c,s,a,function(){const e=h[r.level];e&&s&&window.open(e,"_blank")},r,l,i,function(){c=this.value,o(0,c)}]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");function q(e){c(e,"svelte-lnm3g4",".container.svelte-lnm3g4{text-align:left;padding:30px}button.svelte-lnm3g4{margin-top:20px;padding:8px 16px}.button-container.svelte-lnm3g4{text-align:center;margin-top:20px}")}function D(e){let o,s,i,l,c,p,w;return{c(){o=u("div"),s=new y(!1),i=f(),l=u("div"),c=u("button"),c.textContent="Close",s.a=i,m(c,"class","svelte-lnm3g4"),m(l,"class","button-container svelte-lnm3g4"),m(o,"class","svelte-lnm3g4"),v(o,"container",e[2]),_(o,"width","360px"),_(o,"background-color",t.color.ui.white),_(o,"color",t.color.text.primary)},m(t,n){d(t,o,n),s.m(e[1],o),a(o,i),a(o,l),a(l,c),p||(w=g(c,"click",(function(){r(e[0])&&e[0].apply(this,arguments)})),p=!0)},p(t,[n]){e=t,2&n&&s.p(e[1])},i:n,o:n,d(e){e&&h(o),p=!1,w()}}}function B(e,n,o){let s,{extension:i}=n,{close:r}=n;const l=t.activeClass,a={storyTime:"<h3>Story Time</h3>\n    <p>\n      Make 2 characters take turns speaking on the stage. <br/>\n      Once a character speaks, it should wait for the other character to finish speaking before speaking again.<br/>\n      Each character should speak once.<br/>\n      You'll see the password once you run the correct code.\n    </p>",aliceInWonderland:"\n    <h3>Alice in Wonderland</h3>\n    <p>\n      Make a character grow by 100 in size using a loop.<br /><br />\n      <strong>What is a loop?</strong><br />\n      Repeat…<br />\n      Repeat until…<br />\n      Forever…<br /><br />\n      You'll see the password after running the correct code and making the sprite increase in size by 100.\n    </p>\n  ",dancingSprite:"\n    <h3>Dancing Sprite</h3>\n    <p>\n      Make a sprite dance forever by switching between two costumes while playing music in a loop.\n    </p>\n    <p><strong>Hints:</strong><br />\n      • Use one stack<br />\n      • Make the animation smooth!\n    </p>\n  ",detectSmile:"\n    <h3>Detect Smile</h3>\n    <p>\n      Detect when a user is smiling and have the sprite respond.\n      For example, the sprite could say “You have a beautiful smile!”\n    </p>\n  ",followHand:"\n    <h3>Follow Hand</h3>\n    <p>\n      <strong>Part 1:</strong> Use the follow hand part block so that the sprite constantly follows a finger on your hand.\n    </p>\n    <p>\n      <strong>Part 2:</strong> Then, use your finger to drag the sprite to the top right corner of the screen.\n    </p>\n  ",textClassification:'\n    <h3>Text Classification</h3>\n    <p>\n      Ask the user to enter a piece of text. If the sentiment is greater than 0, say something for 2 seconds.\n    </p>\n    <p><strong>Blocks you might use:</strong><br />\n      • "ask … and wait"<br />\n      • "answer"\n    </p>\n  '};return e.$$set=e=>{"extension"in e&&o(3,i=e.extension),"close"in e&&o(0,r=e.close)},e.$$.update=()=>{8&e.$$.dirty&&o(1,s=a[i.level]||"<p>Unknown level</p>")},[r,s,l,i]}function F(e,t,n,o,s,i){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var l,a=o.kind,c="getter"===a?"get":"setter"===a?"set":"value",d=e?o.static?e:e.prototype:null,h=d?Object.getOwnPropertyDescriptor(d,o.name):{},u=!1,p=n.length-1;p>=0;p--){var f={};for(var g in o)f[g]="access"===g?{}:o[g];for(var g in o.access)f.access[g]=o.access[g];f.addInitializer=function(e){if(u)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(e||null))};var m=(0,n[p])("accessor"===a?{get:h.get,set:h.set}:h[c],f);if("accessor"===a){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(l=r(m.get))&&(h.get=l),(l=r(m.set))&&(h.set=l),(l=r(m.init))&&s.unshift(l)}else(l=r(m))&&("field"===a?s.unshift(l):h[c]=l)}d&&Object.defineProperty(d,o.name,h),u=!0}"function"==typeof SuppressedError&&SuppressedError;const K={name:"RAISE Conference",description:"Replace me with a description of your extension",iconURL:"Replace with the name of your icon image file (which should be placed in the same directory as this file)",insetIconURL:"Replace with the name of your inset icon image file (which should be placed in the same directory as this file)"};let Y=(()=>{var e;let n,o,s,i=t.extension(K,"ui"),r=[];return e=class extends i{constructor(){super(...arguments),this.password=function(e,t,n){for(var o=arguments.length>2,s=0;s<t.length;s++)n=o?t[s].call(e,n):t[s].call(e);return o?n:void 0}(this,r)}init(e){this.challengePassed=!1,this.exampleField=0,this.password="",this.env=e,this.currentTarget=this.env.runtime._editingTarget,console.log(e.runtime),this.passwordMap={storyTime:"aliceInWonderland",aliceInWonderland:"dancingSprite",dancingSprite:"detectSmile",detectSmile:"followHand",followHand:"textClassification",textClassification:"You finished!"};const t=new URL(window.location.href),n=new URLSearchParams(t.search);console.log("params",n.get("level"));const o=n.get("level");this.level=o,this.sizeMap={},e.runtime.on("PROJECT_RUN_STOP",(()=>{if("storyTime"==o&&this.storyTime()&&(this.challengePassed=!0),"textClassification"==o&&this.textClassification()&&(this.challengePassed=!0),"aliceInWonderland"==o&&this.aliceSprite){this.aliceSprite.size-this.sizeMap[this.aliceSprite.sprite.name]==100&&this.aliceInWonderland()&&(this.challengePassed=!0)}})),e.runtime.on("PROJECT_RUN_START",(()=>{this.populateSizeArray(),this.aliceInWonderland(),"dancingSprite"==o&&this.dancingSprite()&&(this.challengePassed=!0)}));for(const t of e.runtime.targets)t.isStage&&(this.stage=t)}showPassword(e){const t=this.getPosition(e);return"detectSmile"==this.level?this.detectSmile()?this.passwordMap[this.level]:"NO":"followHand"==this.level?this.followHand()?(console.log(t[0],t[1]),t[0]>150&&t[1]>100?this.passwordMap[this.level]:"NO"):"NO":this.challengePassed?this.passwordMap[this.level]:"NO"}levelInformation(){this.openUI("Password")}nextLevel(){this.openUI("Level")}storyTime(){const e=[["event_whenflagclicked","looks_say","control_wait"],["event_whenflagclicked","looks_say"],["event_whenflagclicked","looks_sayforsecs"],["event_whenflagclicked","looks_sayforsecs","control_wait"]],t=[["event_whenflagclicked","control_wait","looks_say"],["event_whenflagclicked","control_wait","looks_sayforsecs"]],n=this.getTargets(),o={one:!1,two:!1};console.log(n);for(const s of n){if("Stage"!=s.sprite.name){console.log(s.sprite.name);const n=this.detectStacks(s),i=n.length>0&&this.hasCommonArray(n,e),r=n.length>0&&this.hasCommonArray(n,t);o.one=!!o.one||!!i&&(!i||!r),o.two=!!o.two||!!r&&(!i||!r)}}return console.log(o),o.one&&o.two}aliceInWonderland(){const e=[["event_whenflagclicked","control_repeat","looks_changesizeby"],["control_repeat","looks_changesizeby"],["event_whenflagclicked","control_repeat_until","looks_changesizeby"],["control_repeat_until","looks_changesizeby"]];let t=!1;const n=this.getTargets();for(const o of n){if("Stage"!=o.sprite.name){console.log(o.sprite.name);const n=this.detectStacks(o);t=n.length>0&&this.hasCommonArray(n,e),t&&(this.aliceSprite=o)}}return t}dancingSprite(){const e=[["event_whenflagclicked","sound_play","control_forever","control_wait","looks_nextcostume"],["sound_play","control_forever","control_wait","looks_nextcostume"],["event_whenflagclicked","sound_play","control_forever","looks_nextcostume","control_wait"],["sound_play","control_forever","looks_nextcostume","control_wait"],["event_whenflagclicked","sound_play","control_repeat","control_wait","looks_nextcostume"],["sound_play","control_repeat","control_wait","looks_nextcostume"],["event_whenflagclicked","sound_play","control_repeat","looks_nextcostume","control_wait"],["sound_play","control_repeat","looks_nextcostume","control_wait"]],t=this.getTargets();let n=!1;for(const o of t){if("Stage"!=o.sprite.name){console.log(o.sprite.name);const t=this.detectStacks(o),s=t.length>0&&this.hasCommonArray(t,e),i=this.getCostumeLength(o)>1;console.log(s,i),n=s&&i}}return n}followHand(){const e=[["event_whenflagclicked","control_forever","control_wait","poseHand_goToHandPart"],["event_whenflagclicked","control_forever","poseHand_goToHandPart","control_wait"],["event_whenflagclicked","control_forever","poseHand_goToHandPart"],["control_forever","poseHand_goToHandPart"],["control_forever","poseHand_goToHandPart","control_wait"],["control_forever","control_wait","poseHand_goToHandPart"]],t=this.getTargets();let n=!1;for(const o of t){if("Stage"!=o.sprite.name){console.log(o.sprite.name);const t=this.detectStacks(o);n=t.length>0&&this.hasCommonArray(t,e)}}return n}detectSmile(){const e=[["poseFace_affdexWhenExpression","looks_sayforsecs"]],t=this.getTargets();let n=!1;for(const o of t){if("Stage"!=o.sprite.name){console.log(o.sprite.name);const t=this.detectStacks(o);n=t.length>0&&this.hasCommonArray(t,e)}}return n}textClassification(){const e=[["sensing_askandwait","control_if","id","looks_sayforsecs"],["event_whenflagclicked","sensing_askandwait","control_if","id","looks_sayforsecs"],["sensing_askandwait","control_if_else","id","looks_sayforsecs"],["event_whenflagclicked","sensing_askandwait","control_if_else","id","looks_sayforsecs"]],t=this.getTargets();let n=!1;for(const o of t){if("Stage"!=o.sprite.name){console.log(o.sprite.name);const t=this.detectStacks(o),s=t.length>0&&this.hasCommonArray(t,e),i=s?t[this.getCommonArray(t,e)]:[];console.log(i);const r=i.find((e=>e.includes("id---")));console.log(r);const l=!!r&&this.getIfCondition(r.replace(/^id---/,""),this.getBlocks(o));n=s&&l}}return n}getBlocks(e){return e.blocks._blocks}detectStacks(e){const t=[],n=e.blocks._scripts,o=e.blocks._blocks;console.log("blocks",o);for(const e of n){const n=[];let s=o[e];if(n.push(s.opcode),"control_forever"==s.opcode||"control_repeat"==s.opcode){let e=s.inputs.SUBSTACK?s.inputs.SUBSTACK.block:null;s.next=e}for(;s.next;){if(s=o[s.next],n.push(s.opcode),"control_if"==s.opcode||"control_if_else"==s.opcode){n.push(`id---${s.id}`);let e=s.inputs.SUBSTACK?s.inputs.SUBSTACK.block:null;s.next=e}if("control_forever"==s.opcode||"control_repeat"==s.opcode){let e=s.inputs.SUBSTACK?s.inputs.SUBSTACK.block:null;s.next=e}}t.push(n)}return console.log("ALL STACKS",t),t}getIfCondition(e,t){let n,o,s=t[e].inputs.CONDITION.block;s=s?t[s]:null;let i=!1,r=!1;if(console.log(s),console.log(s.inputs),console.log(s.inputs.OPERAND1),s&&"operator_gt"==s.opcode?(n=s.inputs.OPERAND1.block,console.log(n),n=n?t[n]:null,console.log(n),o=s.inputs.OPERAND2.block,console.log(o),o=o?t[o]:null,console.log(o),console.log("one")):s&&"operator_lt"==s.opcode&&(n=s.inputs.OPERAND2.block,n=n?t[n]:null,o=s.inputs.OPERAND1.block,o=o?t[o]:null),console.log(n,o),n&&"textClassification_sentimentScore"==n.opcode){console.log("passed 1");let e=n.inputs.TEXT.block;e=e?t[e]:null,e&&"sensing_answer"==e.opcode&&(console.log("passed 2"),i=!0)}return o&&"text"==o.opcode&&(console.log("passed 3"),"0"==o.fields.TEXT.value&&(console.log("passed 4"),r=!0)),console.log("operand1",i,"operand2",r),i&&r}getCostumeLength(e){return e.sprite.costumes.length}getPosition(e){return[e.thread.target.x,e.thread.target.y]}getTargets(){return this.env.runtime.targets}arraysEqual(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])if("id"==e[n]&&t[n].includes("id---"));else if("id"!=t[n]||!e[n].includes("id---"))return!1;return!0}hasCommonArray(e,t){console.log(e);for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)if(this.arraysEqual(e[n],t[o]))return!0;return!1}getCommonArray(e,t){console.log(e);for(let n=0;n<e.length;n++)for(let o=0;o<t.length;o++)if(this.arraysEqual(e[n],t[o]))return n;return!1}populateSizeArray(){const e=this.getTargets();for(const t of e){const e=t.sprite.name,n=t.size;this.sizeMap[e]=n}}},(()=>{var l;const a="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(l=i[Symbol.metadata])&&void 0!==l?l:null):void 0;n=[t.scratch.reporter`Show password`],o=[t.scratch.button`Go To Next Level!`],s=[t.scratch.button`Get Level Information`],F(e,0,n,{kind:"method",name:"showPassword",static:!1,private:!1,access:{has:e=>"showPassword"in e,get:e=>e.showPassword},metadata:a},null,r),F(e,0,o,{kind:"method",name:"levelInformation",static:!1,private:!1,access:{has:e=>"levelInformation"in e,get:e=>e.levelInformation},metadata:a},null,r),F(e,0,s,{kind:"method",name:"nextLevel",static:!1,private:!1,access:{has:e=>"nextLevel"in e,get:e=>e.nextLevel},metadata:a},null,r),a&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:a})})(),e})();return e.Extension=Y,e.Level=class extends z{constructor(e){super(),R(this,e,B,D,l,{extension:3,close:0},q)}},e.Password=class extends z{constructor(e){super(),R(this,e,W,M,l,{extension:4,close:5},U)}},e}({},ExtensionFramework);//# sourceMappingURL=raiseprg45grpconference.js.map
