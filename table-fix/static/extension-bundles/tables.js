var tables=function(t,e){"use strict";function n(){}function r(t){return t()}function a(){return Object.create(null)}function o(t){t.forEach(r)}function l(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}const c=["",!0,1,"true","contenteditable"];function u(t,e){t.appendChild(e)}function d(t,e,n){const r=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!r.getElementById(e)){const t=f("style");t.id=e,t.textContent=n,function(t,e){u(t.head||t,e),e.sheet}(r,t)}}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function b(t){return document.createTextNode(t)}function g(){return b(" ")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t){return""===t?null:+t}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e,n){~c.indexOf(n)?function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(t,e):w(t,e)}function k(t,e){t.value=null==e?"":e}function T(t,e,n,r){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function N(t,e,n){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function A(t,e,n){t.classList.toggle(e,!!n)}let _;function C(t){_=t}function E(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const O=[],I=[];let R=[];const B=[],V=Promise.resolve();let j=!1;function z(t){R.push(t)}const S=new Set;let D=0;function H(){if(0!==D)return;const t=_;do{try{for(;D<O.length;){const t=O[D];D++,C(t),M(t.$$)}}catch(t){throw O.length=0,D=0,t}for(C(null),O.length=0,D=0;I.length;)I.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];S.has(e)||(S.add(e),e())}R.length=0}while(O.length);for(;B.length;)B.pop()();j=!1,S.clear(),C(t)}function M(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const P=new Set;let L;function q(t,e){t&&t.i&&(P.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(P.has(t))return;P.add(t),L.c.push((()=>{P.delete(t)})),t.o(e)}}function U(t){return void 0!==t?.length?t:Array.from(t)}function G(t){t&&t.c()}function J(t,e,n){const{fragment:a,after_update:i}=t.$$;a&&a.m(e,n),z((()=>{const e=t.$$.on_mount.map(r).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...e):o(e),t.$$.on_mount=[]})),i.forEach(z)}function K(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];R.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),R=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(O.push(t),j||(j=!0,V.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,r,l,i,s,c=null,u=[-1]){const d=_;C(t);const p=t.$$={fragment:null,ctx:[],props:s,update:n,not_equal:i,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:a(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};c&&c(p.root);let h=!1;if(p.ctx=r?r(t,e.props||{},((e,n,...r)=>{const a=r.length?r[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=a)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](a),h&&Q(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!l&&l(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();e.intro&&q(t.$$.fragment),J(t,e.target,e.anchor),H()}C(d)}class X{$$=void 0;$$set=void 0;$destroy(){K(this,1),this.$destroy=n}$on(t,e){if(!l(e))return n;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class Y{constructor(t){this.root=t}get(...t){return`var(--${this.root}-${t.join("-")})`}primary(...t){return this.get("primary",...t)}secondary(...t){return this.get("secondary",...t)}tertiary(...t){return this.get("tertiary",...t)}transparent(...t){return this.get("transparent",...t)}light(...t){return this.get("light",...t)}}const Z=new Y("ui"),tt=new Y("text"),et=new Y("motion"),nt=new Y("red"),rt=new Y("sound"),at=new Y("control"),ot=new Y("data"),lt=new Y("pen"),it=new Y("error"),st=new Y("extensions"),ct=new Y("extensions"),ut={ui:{primary:Z.primary(),secondary:Z.secondary(),tertiary:Z.tertiary(),modalOverlay:Z.get("modal","overlay"),white:Z.get("white"),whiteDim:Z.get("white","dim"),whiteTransparent:Z.get("white","transparent"),transparent:Z.transparent(),blackTransparent:Z.get("black","transparent")},text:{primary:tt.primary(),primaryTransparent:tt.transparent()},motion:{primary:et.primary(),tertiary:et.tertiary(),transparent:et.get("transparent"),lightTansparent:et.light("transparent")},red:{primary:nt.primary(),tertiary:nt.tertiary()},sound:{primary:rt.primary(),tertiary:rt.tertiary()},control:{primary:at.primary()},data:{primary:ot.primary()},pen:{primary:lt.primary(),transparent:lt.transparent()},error:{primary:it.primary(),light:it.light(),transparent:it.transparent()},extensions:{primary:st.primary(),tertiary:st.tertiary(),light:st.light(),transparent:st.transparent()},drop:{highlight:ct.get("highlight")}};function dt(t){d(t,"svelte-1blbdzs","button.svelte-1blbdzs:disabled{background:var(--drop-highlight) !important;border:var(--drop-highlight) !important}button.svelte-1blbdzs{border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem;transition:background-color 0.25s, border-color 0.25s}")}function pt(t){let e,n,r,a;const l=t[8].default,i=function(t,e,n,r){if(t){const a=s(t,e,n,r);return t[0](a)}}(l,t,t[7],null);return{c(){e=f("button"),i&&i.c(),e.disabled=t[0],v(e,"data-testid",t[1]),v(e,"class","svelte-1blbdzs"),T(e,"border-color",t[6]),T(e,"background-color",t[6]),T(e,"color",t[5]),T(e,"padding",`${t[2]} ${t[3]}`),T(e,"border-radius",t[4])},m(o,l){p(o,e,l),i&&i.m(e,null),n=!0,r||(a=[y(e,"click",t[9]),y(e,"mousedown",t[10]),y(e,"mouseup",t[11])],r=!0)},p(t,[r]){i&&i.p&&(!n||128&r)&&function(t,e,n,r,a,o){if(a){const l=s(e,n,r,o);t.p(l,a)}}(i,l,t,t[7],n?function(t,e,n,r){if(t[2]&&r){const a=t[2](r(n));if(void 0===e.dirty)return a;if("object"==typeof a){const t=[],n=Math.max(e.dirty.length,a.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|a[r];return t}return e.dirty|a}return e.dirty}(l,t[7],r,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[7]),null),(!n||1&r)&&(e.disabled=t[0]),(!n||2&r)&&v(e,"data-testid",t[1]),12&r&&T(e,"padding",`${t[2]} ${t[3]}`),16&r&&T(e,"border-radius",t[4])},i(t){n||(q(i,t),n=!0)},o(t){F(i,t),n=!1},d(t){t&&m(e),i&&i.d(t),r=!1,o(a)}}}function mt(t,e,n){let{$$slots:r={},$$scope:a}=e,{disabled:o=!1}=e,{dataTestID:l=null}=e,{paddingVertical:i="0.75rem"}=e,{paddingHorizontal:s="1rem"}=e,{borderRadius:c="0.25rem"}=e;const u=ut.ui.white,d=ut.motion.primary;return t.$$set=t=>{"disabled"in t&&n(0,o=t.disabled),"dataTestID"in t&&n(1,l=t.dataTestID),"paddingVertical"in t&&n(2,i=t.paddingVertical),"paddingHorizontal"in t&&n(3,s=t.paddingHorizontal),"borderRadius"in t&&n(4,c=t.borderRadius),"$$scope"in t&&n(7,a=t.$$scope)},[o,l,i,s,c,u,d,a,r,function(e){E.call(this,t,e)},function(e){E.call(this,t,e)},function(e){E.call(this,t,e)}]}class ht extends X{constructor(t){super(),W(this,t,mt,pt,i,{disabled:0,dataTestID:1,paddingVertical:2,paddingHorizontal:3,borderRadius:4},dt)}}function ft(t){let e;return{c(){e=b("Ok")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function bt(t){let e,n;return e=new ht({props:{disabled:t[0],dataTestID:"ok",$$slots:{default:[ft]},$$scope:{ctx:t}}}),e.$on("click",t[1]),{c(){G(e.$$.fragment)},m(t,r){J(e,t,r),n=!0},p(t,[n]){const r={};1&n&&(r.disabled=t[0]),4&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){K(e,t)}}}function gt(t,e,n){let{disabled:r=!1}=e;return t.$$set=t=>{"disabled"in t&&n(0,r=t.disabled)},[r,function(e){E.call(this,t,e)}]}class yt extends X{constructor(t){super(),W(this,t,gt,bt,i,{disabled:0})}}function vt(t){d(t,"svelte-1di56al",".container.svelte-1di56al{width:480px;padding:1.5rem 2.25rem}.tableListDropdown.svelte-1di56al{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:1rem}.tableBox.svelte-1di56al{border:1px solid var(--ui-black-transparent);border-radius:5px;margin-bottom:1rem;padding:1rem;color:var(--text-primary-transparent);font-size:1rem;overflow:scroll;max-height:22.5rem}.tableValueInput.svelte-1di56al{width:3rem;padding:.25rem;color:var(--text-primary-transparent);font-size:1rem}")}function $t(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function wt(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function xt(t,e,n){const r=t.slice();return r[21]=e[n],r[17]=n,r}function kt(t,e,n){const r=t.slice();return r[23]=e[n],r}function Tt(t){let e,n,r,a,o=t[23]+"";return{c(){e=f("option"),n=b(o),r=g(),e.__value=a=t[23],k(e,e.__value)},m(t,a){p(t,e,a),u(e,n),u(e,r)},p(t,r){1&r&&o!==(o=t[23]+"")&&w(n,o),1&r&&a!==(a=t[23])&&(e.__value=a,k(e,e.__value))},d(t){t&&m(e)}}}function Nt(t){let e,n,r,a,l,i,s=t[21]+"";function c(...e){return t[10](t[17],...e)}return{c(){e=f("th"),n=f("span"),r=b(s),a=g(),v(n,"contenteditable","false"),v(n,"class","editableHeader")},m(t,o){p(t,e,o),u(e,n),u(n,r),u(e,a),l||(i=[y(n,"click",Et),y(n,"blur",c)],l=!0)},p(e,n){t=e,5&n&&s!==(s=t[21]+"")&&x(r,s,"false")},d(t){t&&m(e),l=!1,o(i)}}}function At(t){let e,n,r,a,o;function l(...e){return t[12](t[17],t[20],...e)}return{c(){e=f("th"),n=f("input"),v(n,"type","number"),n.value=r=t[18],v(n,"data-testid","tableCell"),v(n,"class","svelte-1di56al"),A(n,"tableValueInput",t[7])},m(t,r){p(t,e,r),u(e,n),a||(o=y(n,"change",l),a=!0)},p(e,a){t=e,5&a&&r!==(r=t[18])&&n.value!==r&&(n.value=r)},d(t){t&&m(e),a=!1,o()}}}function _t(t){let e,n,r,a,l,i,s,c,d=t[0].rowNames[t[2]][t[17]]+"";function $(...e){return t[11](t[17],...e)}let w=U(t[15]),k=[];for(let e=0;e<w.length;e+=1)k[e]=At(wt(t,w,e));return{c(){e=f("tr"),n=f("th"),r=f("span"),a=b(d),l=g();for(let t=0;t<k.length;t+=1)k[t].c();i=g(),v(r,"contenteditable","false"),v(r,"class","editableHeader")},m(t,o){p(t,e,o),u(e,n),u(n,r),u(r,a),u(e,l);for(let t=0;t<k.length;t+=1)k[t]&&k[t].m(e,null);u(e,i),s||(c=[y(r,"click",Ot),y(r,"blur",$)],s=!0)},p(n,r){if(t=n,5&r&&d!==(d=t[0].rowNames[t[2]][t[17]]+"")&&x(a,d,"false"),389&r){let n;for(w=U(t[15]),n=0;n<w.length;n+=1){const a=wt(t,w,n);k[n]?k[n].p(a,r):(k[n]=At(a),k[n].c(),k[n].m(e,i))}for(;n<k.length;n+=1)k[n].d(1);k.length=w.length}},d(t){t&&m(e),h(k,t),s=!1,o(c)}}}function Ct(t){let n,r,a,o,i,s,c,d,b,$,w,x,k,_,C,E,O,I,R=U(Object.keys(t[0].tables)),B=[];for(let e=0;e<R.length;e+=1)B[e]=Tt(kt(t,R,e));let V=U(t[0].columnNames[t[2]]),j=[];for(let e=0;e<V.length;e+=1)j[e]=Nt(xt(t,V,e));let S=U(t[0].tables[t[2]]),D=[];for(let e=0;e<S.length;e+=1)D[e]=_t($t(t,S,e));return C=new yt({}),C.$on("click",(function(){l(t[1])&&t[1].apply(this,arguments)})),{c(){n=f("div"),r=f("div"),a=f("select");for(let t=0;t<B.length;t+=1)B[t].c();o=g(),i=f("div"),s=f("table"),c=f("thead"),d=f("tr"),b=f("th"),$=g();for(let t=0;t<j.length;t+=1)j[t].c();w=g(),x=f("tbody");for(let t=0;t<D.length;t+=1)D[t].c();k=g(),_=f("center"),G(C.$$.fragment),v(a,"data-testid","tableSelect"),v(a,"class","svelte-1di56al"),void 0===t[2]&&z((()=>t[9].call(a))),A(a,"tableListDropdown",t[5]),v(i,"class","svelte-1di56al"),A(i,"tableBox",t[6]),v(n,"class","svelte-1di56al"),A(n,"container",t[4]),T(n,"width","360px"),T(n,"background-color",e.color.ui.white),T(n,"color",e.color.text.primary)},m(e,l){p(e,n,l),u(n,r),u(r,a);for(let t=0;t<B.length;t+=1)B[t]&&B[t].m(a,null);N(a,t[2],!0),u(n,o),u(n,i),u(i,s),u(s,c),u(c,d),u(d,b),u(d,$);for(let t=0;t<j.length;t+=1)j[t]&&j[t].m(d,null);u(s,w),u(s,x);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(x,null);u(n,k),u(n,_),J(C,_,null),E=!0,O||(I=y(a,"change",t[9]),O=!0)},p(e,[n]){if(t=e,1&n){let e;for(R=U(Object.keys(t[0].tables)),e=0;e<R.length;e+=1){const r=kt(t,R,e);B[e]?B[e].p(r,n):(B[e]=Tt(r),B[e].c(),B[e].m(a,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=R.length}if(5&n&&N(a,t[2]),13&n){let e;for(V=U(t[0].columnNames[t[2]]),e=0;e<V.length;e+=1){const r=xt(t,V,e);j[e]?j[e].p(r,n):(j[e]=Nt(r),j[e].c(),j[e].m(d,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=V.length}if(397&n){let e;for(S=U(t[0].tables[t[2]]),e=0;e<S.length;e+=1){const r=$t(t,S,e);D[e]?D[e].p(r,n):(D[e]=_t(r),D[e].c(),D[e].m(x,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=S.length}},i(t){E||(q(C.$$.fragment,t),E=!0)},o(t){F(C.$$.fragment,t),E=!1},d(t){t&&m(n),h(B,t),h(j,t),h(D,t),K(C),O=!1,I()}}}const Et=t=>t.currentTarget.contentEditable="true",Ot=t=>t.currentTarget.contentEditable="true";function It(t,n,r){let{extension:a}=n,{close:o}=n;const l=(t,...n)=>e.reactiveInvoke(r(0,a),t,n),i=e.activeClass,s=e.activeClass,c=e.activeClass,u=e.activeClass,d=Object.keys(a.tables);let p=d.length>0?d[0]:"";const m=(t,e,n)=>l("changeTableValue",{name:p,row:e,column:n,value:parseInt(t.currentTarget.value)});return t.$$set=t=>{"extension"in t&&r(0,a=t.extension),"close"in t&&r(1,o=t.close)},[a,o,p,l,i,s,c,u,m,function(){p=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),r(2,p),r(0,a)},(t,e)=>{e.currentTarget.contentEditable="false",l("renameColumn",{name:p,column:t,value:e.currentTarget.innerText})},(t,e)=>{e.currentTarget.contentEditable="false",l("renameRow",{name:p,row:t,value:e.currentTarget.innerText})},(t,e,n)=>m(n,t,e)]}function Rt(t){d(t,"svelte-1lnk5kq","button.svelte-1lnk5kq{padding:0.75rem 1rem;border-radius:0.25rem;border-width:1px;border-style:solid;font-weight:600;font-size:0.85rem}")}function Bt(t){let e,r,a;return{c(){e=f("button"),e.textContent="Cancel",v(e,"class","svelte-1lnk5kq"),T(e,"border-color",t[0]),T(e,"background-color",t[0]),T(e,"color",t[0])},m(n,o){p(n,e,o),r||(a=y(e,"click",t[1]),r=!0)},p:n,i:n,o:n,d(t){t&&m(e),r=!1,a()}}}function Vt(t){return[ut.ui.blackTransparent,function(e){E.call(this,t,e)}]}class jt extends X{constructor(t){super(),W(this,t,Vt,Bt,i,{},Rt)}}function zt(t){d(t,"svelte-3p09kw",".container.svelte-3p09kw{width:360px;background-color:var(--ui-white);padding:30px;padding:1.5rem 2.25rem}.label.svelte-3p09kw{font-weight:500;margin:0 0 0.75rem}.numberInputContainer.svelte-3p09kw{display:flex;justify-content:space-between;align-items:center}input.svelte-3p09kw{border:1px solid var(--ui-black-transparent);border-radius:5px}.numberInput.svelte-3p09kw{margin-bottom:1.5rem;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem;vertical-align:middle;margin-top:20px}.nameInput.svelte-3p09kw{margin-bottom:1.5rem;width:100%;border:1px solid var(--ui-black-transparent);border-radius:5px;padding:0 1rem;height:3rem;color:var(--text-primary-transparent);font-size:.875rem}.error.svelte-3p09kw{margin:0px;font-weight:bold}")}function St(t){let n,r,a,i,s,c,d,h,b,w,x,N,_,C,E,O,I,R,B,V,j,z,S,D,H;return R=new yt({props:{disabled:t[4]||t[5]}}),R.$on("click",t[6]),V=new jt({}),V.$on("click",(function(){l(t[0])&&t[0].apply(this,arguments)})),{c(){n=f("div"),r=f("div"),a=f("div"),a.textContent="Table Name",i=g(),s=f("input"),c=g(),d=f("div"),h=f("div"),h.textContent="Number of Rows",b=g(),w=f("input"),x=g(),N=f("div"),_=f("div"),_.textContent="Number of Columns",C=g(),E=f("input"),O=g(),I=f("div"),G(R.$$.fragment),B=g(),G(V.$$.fragment),j=g(),z=f("p"),z.textContent="That table name already exists",v(a,"class","svelte-3p09kw"),A(a,"label",Ht),s.autofocus=!0,v(s,"data-testid","makeNameInput"),v(s,"class","svelte-3p09kw"),A(s,"nameInput",Lt),v(h,"class","svelte-3p09kw"),A(h,"label",Ht),v(w,"type","number"),v(w,"min",Ft),v(w,"max",Ut),v(w,"class","svelte-3p09kw"),A(w,"numberInput",Pt),v(d,"class","svelte-3p09kw"),A(d,"numberInputContainer",Mt),v(_,"class","svelte-3p09kw"),A(_,"label",Ht),v(E,"type","number"),v(E,"min",Ft),v(E,"max",Ut),v(E,"class","svelte-3p09kw"),A(E,"numberInput",Pt),v(N,"class","svelte-3p09kw"),A(N,"numberInputContainer",Mt),v(z,"class","svelte-3p09kw"),A(z,"error",qt),T(z,"visibility",t[5]?"visible":"hidden"),T(z,"color",e.color.error.primary),v(n,"class","svelte-3p09kw"),A(n,"container",Dt)},m(e,o){p(e,n,o),u(n,r),u(r,a),u(r,i),u(r,s),k(s,t[1]),u(n,c),u(n,d),u(d,h),u(d,b),u(d,w),k(w,t[2]),u(n,x),u(n,N),u(N,_),u(N,C),u(N,E),k(E,t[3]),u(n,O),u(n,I),J(R,I,null),u(I,B),J(V,I,null),u(n,j),u(n,z),S=!0,s.focus(),D||(H=[y(s,"input",t[8]),y(w,"input",t[9]),y(E,"input",t[10])],D=!0)},p(e,[n]){t=e,2&n&&s.value!==t[1]&&k(s,t[1]),4&n&&$(w.value)!==t[2]&&k(w,t[2]),8&n&&$(E.value)!==t[3]&&k(E,t[3]);const r={};48&n&&(r.disabled=t[4]||t[5]),R.$set(r),32&n&&T(z,"visibility",t[5]?"visible":"hidden")},i(t){S||(q(R.$$.fragment,t),q(V.$$.fragment,t),S=!0)},o(t){F(R.$$.fragment,t),F(V.$$.fragment,t),S=!1},d(t){t&&m(n),K(R),K(V),D=!1,o(H)}}}const Dt=!0,Ht=!0,Mt=!0,Pt=!0,Lt=!0,qt=!0,Ft=1,Ut=100;function Gt(t,n,r){let{extension:a}=n,{close:o}=n;let l,i,s="",c=1,u=1;return t.$$set=t=>{"extension"in t&&r(7,a=t.extension),"close"in t&&r(0,o=t.close)},t.$$.update=()=>{2&t.$$.dirty&&r(4,l=0===s.length),130&t.$$.dirty&&r(5,i=s in a.tables)},[o,s,c,u,l,i,()=>{((t,...n)=>{e.reactiveInvoke(r(7,a),t,n)})("newTable",{name:s,rows:c,columns:u}),o()},a,function(){s=this.value,r(1,s)},function(){c=$(this.value),r(2,c)},function(){u=$(this.value),r(3,u)}]}"function"==typeof SuppressedError&&SuppressedError;let Jt=(()=>{let t,n,r=[e.validGenericExtension()],a=[],o=e.Extension;var l,i,s=n=class extends o{constructor(){super(...arguments),this.saveDataHandler=new e.SaveDataHandler({Extension:s,onSave:t=>t.tables,onLoad:(t,e)=>{t.tables=e}})}init(t){this.tables||(this.tables={},this.tables.myTable=[],this.columnNames={},this.rowNames={},this.columnNames.myTable=["Col 1"],this.rowNames.myTable=["Row 1"],this.tables.myTable.push([0])),this.tableNamesArg={type:e.ArgumentType.String,options:{getItems:this.getTableNames.bind(this),acceptsReporters:!0,handler:t=>void 0===this.getTableNames().indexOf(t)?(alert(`no table with name ${t} exists`),"myTable"):t}},this.defaultNumberArg={type:e.ArgumentType.Number,defaultValue:1}}getTableNames(){return Object.keys(this.tables).map((t=>({text:t,value:t})))}renameColumn(t){const{name:e,column:n,value:r}=t;this.columnNames[e]&&void 0!==this.columnNames[e][n]?this.columnNames[e][n]=r:alert("That table or column does not exist.")}renameRow(t){const{name:e,row:n,value:r}=t;this.rowNames[e]&&void 0!==this.rowNames[e][n]?this.rowNames[e][n]=r:alert("That table or row does not exist.")}newTable(t){const{name:e,rows:n,columns:r}=t;this.tables[e]=[];for(let t=0;t<n;t++){let t=[];for(let e=0;e<r;e++)t.push(0);this.tables[e].push(t)}this.rowNames[e]=Array.from({length:n},((t,e)=>`Row ${e+1}`)),this.columnNames[e]=Array.from({length:r},((t,e)=>`Col ${e+1}`))}changeTableValue(t){const{name:e,row:n,column:r,value:a}=t;this.tables[e][n][r]=a||0}defineBlocks(){return{createTable:()=>({type:e.BlockType.Button,text:"new table",operation:()=>this.openUI("Make","Add a table")}),addTable:t=>({type:e.BlockType.Command,args:[t.tableNamesArg,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n)=>`add table called ${t} with ${e} rows and ${n} columns`,operation:(e,n,r)=>{if(e in t.tables)return void alert("that table already exists");const a={name:e,rows:n,columns:r};t.newTable(a)}}),removeTable:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`remove ${t}`,operation:t=>this.tables[t]?void delete this.tables[t]:void alert("that table doesn't exist")}),insertColumn:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`add column to ${t}`,operation:e=>{if(!(e in t.tables))return void alert("that table does not exist.");for(let t=0;t<this.tables[e].length;t++)this.tables[e][t].push(0);const n=this.columnNames[e].length;this.columnNames[e].push(`Col ${n+1}`)}}),insertRow:t=>({type:e.BlockType.Command,arg:t.tableNamesArg,text:t=>`add row to ${t}`,operation:e=>{if(!(e in t.tables))return void alert("that table does not exist.");let n=[];for(let t=0;t<this.tables[e][0].length;t++)n.push(0);this.tables[e].push(n);const r=this.rowNames[e].length;this.rowNames[e].push(`Row ${r+1}`)}}),insertValueAt:t=>({type:e.BlockType.Command,args:[t.tableNamesArg,e.ArgumentType.Number,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n,r)=>`insert ${e} at row ${n} and column ${r} of ${t}`,operation:(e,n,r,a)=>{e in t.tables?this.tables[e].length<r?alert("That row value is too high!"):this.tables[e][0].length<a?alert("That column value is too high!"):this.tables[e][r-1][a-1]=n:alert("that table does not exist.")}}),getValueAt:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg,t.defaultNumberArg],text:(t,e,n)=>`item at row ${e} and column ${n} of ${t}`,operation:(e,n,r)=>e in t.tables?this.tables[e].length<n?(alert("That row value is too high!"),-1):this.tables[e][0].length<r?(alert("That column value is too high!"),-1):this.tables[e][n-1][r-1]:(alert("that table does not exist."),-1)}),numberOfRows:t=>({type:e.BlockType.Reporter,arg:t.tableNamesArg,text:t=>`number of rows in ${t}`,operation:e=>e in t.tables?this.tables[e].length:(alert("that table does not exist."),-1)}),numberOfColumns:t=>({type:e.BlockType.Reporter,arg:t.tableNamesArg,text:t=>`number of columns in ${t}`,operation:e=>e in t.tables?this.tables[e][0].length:(alert("that table does not exist."),-1)}),highestValueOfColumn:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`highest value of column ${e} in ${t}`,operation:(e,n)=>e in t.tables?this.tables[e].reduce(((t,e)=>Math.max(t,e[n-1])),-1/0):(alert("that table does not exist."),-1)}),highestValueOfRow:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`highest value of row ${e} in ${t}`,operation:(e,n)=>e in t.tables?Math.max(...this.tables[e][n-1]):(alert("that table does not exist."),-1)}),indexOfHighestColumnValue:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`row # of highest value in column ${e} of ${t}`,operation:(e,n)=>{if(!(e in t.tables))return alert("that table does not exist."),-1;return this.tables[e].reduce(((t,e,r)=>t[1]>=e[n-1]?t:[r,e[n-1]]),[-1,-1/0])[0]+1}}),indexOfHighestRowValue:t=>({type:e.BlockType.Reporter,args:[t.tableNamesArg,t.defaultNumberArg],text:(t,e)=>`column # of highest value in row ${e} of ${t}`,operation:(t,e)=>{if(!(t in this.tables))return alert("that table does not exist."),-1;let n=Math.max(...this.tables[t][e-1]);return this.tables[t][e-1].indexOf(n)+1}}),showTable:()=>({type:e.BlockType.Button,text:"view tables",operation:()=>this.openUI("View","View / Edit Table Values")})}}};return l=n,i="Tables",Object.defineProperty(l,"name",{configurable:!0,value:i}),(()=>{var e;const l="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(e=o[Symbol.metadata])&&void 0!==e?e:null):void 0;!function(t,e,n,r,a,o){function l(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var i,s=r.kind,c="getter"===s?"get":"setter"===s?"set":"value",u=!e&&t?r.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),p=!1,m=n.length-1;m>=0;m--){var h={};for(var f in r)h[f]="access"===f?{}:r[f];for(var f in r.access)h.access[f]=r.access[f];h.addInitializer=function(t){if(p)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(t||null))};var b=(0,n[m])("accessor"===s?{get:d.get,set:d.set}:d[c],h);if("accessor"===s){if(void 0===b)continue;if(null===b||"object"!=typeof b)throw new TypeError("Object expected");(i=l(b.get))&&(d.get=i),(i=l(b.set))&&(d.set=i),(i=l(b.init))&&a.unshift(i)}else(i=l(b))&&("field"===s?a.unshift(i):d[c]=i)}u&&Object.defineProperty(u,r.name,d),p=!0}(null,t={value:n},r,{kind:"class",name:n.name,metadata:l},null,a),s=n=t.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),function(t,e,n){for(var r=arguments.length>2,a=0;a<e.length;a++)n=r?e[a].call(t,n):e[a].call(t)}(n,a)})(),s=n})();return t.Extension=Jt,t.Make=class extends X{constructor(t){super(),W(this,t,Gt,St,i,{extension:7,close:0},zt)}},t.View=class extends X{constructor(t){super(),W(this,t,It,Ct,i,{extension:0,close:1},vt)}},t}({},ExtensionFramework);//# sourceMappingURL=tables.js.map
