var complexprg95grpexample=function(t,e){"use strict";function n(){}function o(t){return t()}function r(){return Object.create(null)}function a(t){t.forEach(o)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function l(t,e,n){const o=function(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;if(e&&e.host)return e;return t.ownerDocument}(t);if(!o.getElementById(e)){const t=h("style");t.id=e,t.textContent=n,function(t,e){c(t.head||t,e),e.sheet}(o,t)}}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function m(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function f(){return p(" ")}function g(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function $(t,e,n){t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let x;function b(t){x=t}const A=[],w=[];let k=[];const C=[],_=Promise.resolve();let E=!1;function I(t){k.push(t)}const S=new Set;let T=0;function O(){if(0!==T)return;const t=x;do{try{for(;T<A.length;){const t=A[T];T++,b(t),N(t.$$)}}catch(t){throw A.length=0,T=0,t}for(b(null),A.length=0,T=0;w.length;)w.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];S.has(e)||(S.add(e),e())}k.length=0}while(A.length);for(;C.length;)C.pop()();E=!1,S.clear(),b(t)}function N(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const j=new Set;function U(t){return void 0!==t?.length?t:Array.from(t)}function D(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),k=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(A.push(t),E||(E=!0,_.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,s,c,l,u,m=null,h=[-1]){const p=x;b(t);const f=t.$$={fragment:null,ctx:[],props:u,update:n,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:r(),dirty:h,skip_bound:!1,root:e.target||p.$$.root};m&&m(f.root);let g=!1;if(f.ctx=s?s(t,e.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&l(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),g&&P(t,e)),n})):[],f.update(),g=!0,a(f.before_update),f.fragment=!!c&&c(f.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);f.fragment&&f.fragment.l(t),t.forEach(d)}else f.fragment&&f.fragment.c();e.intro&&(($=t.$$.fragment)&&$.i&&(j.delete($),$.i(v))),function(t,e,n){const{fragment:r,after_update:s}=t.$$;r&&r.m(e,n),I((()=>{const e=t.$$.on_mount.map(o).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...e):a(e),t.$$.on_mount=[]})),s.forEach(I)}(t,e.target,e.anchor),O()}var $,v;b(p)}class M{$$=void 0;$$set=void 0;$destroy(){D(this,1),this.$destroy=n}$on(t,e){if(!i(e))return n;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(e),()=>{const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function R(t){l(t,"svelte-o54gka",".container.svelte-o54gka{width:360px;padding:10px}button.svelte-o54gka{border-radius:10px;font-size:40px}")}function B(t,e,n){const o=t.slice();return o[6]=e[n],o}function L(t,e,n){const o=t.slice();return o[9]=e[n][0],o[10]=e[n][1],o}function z(t){let e,n,o,r,a,i=t[10]+"",s=t[9]+"",l=t[10]>1?"s":"";return{c(){e=h("li"),n=p(i),o=f(),r=p(s),a=p(l)},m(t,i){u(t,e,i),c(e,n),c(e,o),c(e,r),c(e,a)},p(t,e){2&e&&i!==(i=t[10]+"")&&v(n,i),2&e&&s!==(s=t[9]+"")&&v(r,s),2&e&&l!==(l=t[10]>1?"s":"")&&v(a,l)},d(t){t&&d(e)}}}function V(t){let e,n,o,r,a,i,s=t[6].text+"";function l(){return t[4](t[6])}return{c(){e=h("button"),n=h("span"),n.textContent="+",o=p(s),r=f(),y(n,"font-size","20px"),$(e,"class","svelte-o54gka")},m(t,s){u(t,e,s),c(e,n),c(e,o),c(e,r),a||(i=g(e,"click",l),a=!0)},p(e,n){t=e,1&n&&s!==(s=t[6].text+"")&&v(o,s)},d(t){t&&d(e),a=!1,i()}}}function F(t){let o,r,a,i,s=U([...t[1]]),l=[];for(let e=0;e<s.length;e+=1)l[e]=z(L(t,s,e));let p=U(t[0].animals),g=[];for(let e=0;e<p.length;e+=1)g[e]=V(B(t,p,e));return{c(){o=h("div"),r=h("ul");for(let t=0;t<l.length;t+=1)l[t].c();a=f(),i=h("center");for(let t=0;t<g.length;t+=1)g[t].c();$(o,"class","svelte-o54gka"),function(t,e,n){t.classList.toggle(e,!!n)}(o,"container",G),y(o,"background-color",e.color.ui.white)},m(t,e){u(t,o,e),c(o,r);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(r,null);c(o,a),c(o,i);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(i,null)},p(t,[e]){if(2&e){let n;for(s=U([...t[1]]),n=0;n<s.length;n+=1){const o=L(t,s,n);l[n]?l[n].p(o,e):(l[n]=z(o),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}if(5&e){let n;for(p=U(t[0].animals),n=0;n<p.length;n+=1){const o=B(t,p,n);g[n]?g[n].p(o,e):(g[n]=V(o),g[n].c(),g[n].m(i,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=p.length}},i:n,o:n,d(t){t&&d(o),m(l,t),m(g,t)}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");const G=!0;function X(t,n,o){let{extension:r}=n,{close:a}=n;const i=(t,...n)=>e.reactiveInvoke(o(0,r),t,n);let s;return t.$$set=t=>{"extension"in t&&o(0,r=t.extension),"close"in t&&o(3,a=t.close)},t.$$.update=()=>{1&t.$$.dirty&&(t=>{o(1,s=new Map);for(const t of i("getAnimalCollectionEmojis"))s.set(t,s.has(t)?s.get(t)+1:1)})()},[r,s,i,a,t=>i("addAnimalToCollection",t.value)]}function q(t,e,n,o,r,a){function i(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var s,c=o.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=t?o.static?t:t.prototype:null,d=u?Object.getOwnPropertyDescriptor(u,o.name):{},m=!1,h=n.length-1;h>=0;h--){var p={};for(var f in o)p[f]="access"===f?{}:o[f];for(var f in o.access)p.access[f]=o.access[f];p.addInitializer=function(t){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(t||null))};var g=(0,n[h])("accessor"===c?{get:d.get,set:d.set}:d[l],p);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(s=i(g.get))&&(d.get=s),(s=i(g.set))&&(d.set=s),(s=i(g.init))&&r.unshift(s)}else(s=i(g))&&("field"===c?r.unshift(s):d[l]=s)}u&&Object.defineProperty(u,o.name,d),m=!0}"function"==typeof SuppressedError&&SuppressedError;const W={0:"leopard",1:"tiger",2:"gorilla",3:"monkey",4:"pig"},Y={0:"🐆",1:"🐅",2:"🦍",3:"🐒",4:"🐖"};let J=(()=>{var t;let n,o,r,a,i,s,c,l,u,d,m,h,p,f,g=e.extension({name:"Realistic Typescript-Based Extension",description:"Demonstrating how typescript can be used to write a realistic extension",iconURL:"Typescript_logo.png",insetIconURL:"typescript-logo.svg",tags:["PRG Internal"]},"ui","customSaveData","customArguments"),$=[];return t=class extends g{constructor(){super(...arguments),this.lhsOptions=function(t,e,n){for(var o=arguments.length>2,r=0;r<e.length;r++)n=o?e[r].call(t,n):e[r].call(t);return o?n:void 0}(this,$),this.collection=[2],this.state=0,this.saveDataHandler=new e.SaveDataHandler({Extension:t,onSave:({collection:t,state:e})=>({collection:t,state:e}),onLoad:(t,n)=>e.copyTo({target:t,source:n})})}getAnimalCollectionEmojis(){return this.collection.map((t=>Y[t]))}addAnimalToCollection(t){return this.collection.push(t)}init(){this.lhsOptions=[3,4,5],this.animals=Object.entries(Y).map((([t,e])=>({value:parseInt(t),text:e}))),this.getAnimalCollection=()=>this.collection.map((t=>({text:Y[t],value:t})))}getID(){return this.id}getColorChannel(t,e){return e[t]}add(t,e){return t+e}sumMatrix(t,e){switch(e){case 0:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).join("\n");case 1:const e=[0,0,0,0,0];return t.forEach((t=>t.forEach(((t,n)=>{e[n]+=Number(t)})))),e.join(" ");case 2:return t.map((t=>t.reduce(((t,e)=>t+Number(e)),0))).reduce(((t,e)=>t+e),0).toString()}}selectNote(t){return t}selectAngle(t){return t}increment(){return++this.state}animalName(t){return W[t]}animalHabit(t){switch(t){case 0:return"Africa and Asia";case 1:return"Asia";case 2:return"Africa";case 3:return"Africa, Asia, and South America";case 4:return"Almost everywhere (except Antartica)"}}addAnimalToCollectionAndAlert(t){this.addAnimalToCollection(t),this.openUI("Alert")}chooseBetweenAnimals(t){return W[t]}showAnimalCollectionUI(){this.openUI("Animals","Here's your animal collection")}multiplyUsingThis(t,e,n){return t*e}multiplyUsingSelf(t,e,n){return t*e}},(()=>{var v;const y="function"==typeof Symbol&&Symbol.metadata?Object.create(null!==(v=g[Symbol.metadata])&&void 0!==v?v:null):void 0;n=[e.scratch.reporter`My Extension ID is`],o=[e.scratch.reporter`Report ${{type:"string",options:[{value:"r",text:"red"},{value:"g",text:"green"},{value:"b",text:"blue"}]}} 
  of ${"color"}`],r=[e.scratch.reporter(((t,e)=>e`Add ${{type:"number",defaultValue:3,options:t.lhsOptions}} to ${"number"}`))],a=[e.scratch.reporter`Sum ${"matrix"} of ${{type:"number",options:[{value:0,text:"rows"},{value:1,text:"columns"},{value:2,text:"rows and columns"}]}}`],i=[e.scratch.reporter`Pick note ${"note"}`],s=[e.scratch.reporter`Pick angle ${"angle"}`],c=[e.scratch.reporter`Increment`],l=[e.scratch.reporter((function(t,e){return e`This is a ${{type:"number",options:{items:this.animals,acceptsReporters:!0,handler:t=>{switch(t){case"0":case"1":case"2":case"3":case"4":return t;default:return alert(`You silly goose! ${t} is not an animal.`),0}}}}}`}))],u=[e.scratch.reporter(((t,e)=>e`Where does the ${{type:"number",options:t.animals}} live?`))],d=[e.scratch.command((function(t,e){const n=W[0];return e`Add ${this.makeCustomArgument({component:et,initial:{value:0,text:n}})} to collection`}))],m=[e.scratch.reporter(((t,e)=>e`Animals in collection: ${{type:"number",options:t.getAnimalCollection}}`))],h=[e.scratch.button`Show Animal Collection`],p=[e.scratch.reporter((function(t,e){return e`${{type:"number",defaultValue:3,options:this.lhsOptions}} X ${"number"}`}))],f=[e.scratch.reporter(((t,e)=>e`${{type:"number",defaultValue:3,options:t.lhsOptions}} X ${"number"}`))],q(t,0,n,{kind:"method",name:"getID",static:!1,private:!1,access:{has:t=>"getID"in t,get:t=>t.getID},metadata:y},null,$),q(t,0,o,{kind:"method",name:"getColorChannel",static:!1,private:!1,access:{has:t=>"getColorChannel"in t,get:t=>t.getColorChannel},metadata:y},null,$),q(t,0,r,{kind:"method",name:"add",static:!1,private:!1,access:{has:t=>"add"in t,get:t=>t.add},metadata:y},null,$),q(t,0,a,{kind:"method",name:"sumMatrix",static:!1,private:!1,access:{has:t=>"sumMatrix"in t,get:t=>t.sumMatrix},metadata:y},null,$),q(t,0,i,{kind:"method",name:"selectNote",static:!1,private:!1,access:{has:t=>"selectNote"in t,get:t=>t.selectNote},metadata:y},null,$),q(t,0,s,{kind:"method",name:"selectAngle",static:!1,private:!1,access:{has:t=>"selectAngle"in t,get:t=>t.selectAngle},metadata:y},null,$),q(t,0,c,{kind:"method",name:"increment",static:!1,private:!1,access:{has:t=>"increment"in t,get:t=>t.increment},metadata:y},null,$),q(t,0,l,{kind:"method",name:"animalName",static:!1,private:!1,access:{has:t=>"animalName"in t,get:t=>t.animalName},metadata:y},null,$),q(t,0,u,{kind:"method",name:"animalHabit",static:!1,private:!1,access:{has:t=>"animalHabit"in t,get:t=>t.animalHabit},metadata:y},null,$),q(t,0,d,{kind:"method",name:"addAnimalToCollectionAndAlert",static:!1,private:!1,access:{has:t=>"addAnimalToCollectionAndAlert"in t,get:t=>t.addAnimalToCollectionAndAlert},metadata:y},null,$),q(t,0,m,{kind:"method",name:"chooseBetweenAnimals",static:!1,private:!1,access:{has:t=>"chooseBetweenAnimals"in t,get:t=>t.chooseBetweenAnimals},metadata:y},null,$),q(t,0,h,{kind:"method",name:"showAnimalCollectionUI",static:!1,private:!1,access:{has:t=>"showAnimalCollectionUI"in t,get:t=>t.showAnimalCollectionUI},metadata:y},null,$),q(t,0,p,{kind:"method",name:"multiplyUsingThis",static:!1,private:!1,access:{has:t=>"multiplyUsingThis"in t,get:t=>t.multiplyUsingThis},metadata:y},null,$),q(t,0,f,{kind:"method",name:"multiplyUsingSelf",static:!1,private:!1,access:{has:t=>"multiplyUsingSelf"in t,get:t=>t.multiplyUsingSelf},metadata:y},null,$),y&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y})})(),t})();function K(t,e,n){const o=t.slice();return o[6]=e[n],o}function Q(t){let e,n,o;function r(){return t[5](t[6])}return{c(){e=h("button"),e.textContent=`${Y[t[6]]} `},m(t,a){u(t,e,a),n||(o=g(e,"click",r),n=!0)},p(e,n){t=e},d(t){t&&d(e),n=!1,o()}}}function Z(t){let e,o=U(Object.keys(Y)),r=[];for(let e=0;e<o.length;e+=1)r[e]=Q(K(t,o,e));return{c(){e=h("div");for(let t=0;t<r.length;t+=1)r[t].c()},m(t,n){u(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(1&n){let a;for(o=U(Object.keys(Y)),a=0;a<o.length;a+=1){const i=K(t,o,a);r[a]?r[a].p(i,n):(r[a]=Q(i),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},i:n,o:n,d(t){t&&d(e),m(r,t)}}}function tt(t,e,n){let o,{setter:r}=e,{current:a}=e,{extension:i}=e,s=a.value;return t.$$set=t=>{"setter"in t&&n(1,r=t.setter),"current"in t&&n(2,a=t.current),"extension"in t&&n(3,i=t.extension)},t.$$.update=()=>{1&t.$$.dirty&&n(4,o=W[s]),19&t.$$.dirty&&r({value:s,text:o})},[s,r,a,i,o,t=>n(0,s=parseInt(t))]}var et=class extends M{constructor(t){super(),H(this,t,tt,Z,s,{setter:1,current:2,extension:3})}};function nt(t){let e;return{c(){e=h("div"),e.innerHTML='<img src="https://y.yarn.co/e1c7becd-fc72-40cb-8866-2afac14e2712_text.gif" alt="Gif of &#39;Its done&#39; clip from the movie Dune"/>',y(e,"width","400px;")},m(t,n){u(t,e,n)},p:n,i:n,o:n,d(t){t&&d(e)}}}return t.Alert=class extends M{constructor(t){super(),H(this,t,null,nt,s,{})}},t.AnimalArgument=et,t.Animals=class extends M{constructor(t){super(),H(this,t,X,F,s,{extension:0,close:3},R)}},t.Extension=J,t}({},ExtensionFramework);//# sourceMappingURL=complexprg95grpexample.js.map
